<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>加载</title>
</head>
<body>
    <canvas id="canvas" width="500" height="500" style="background: #000;"></canvas>

    <script>
        window.onload = function(){
            let canvas = document.getElementById('canvas'),
                ctx = canvas.getContext('2d'),
                centerX = canvas.width / 2,
                centerY = canvas.height / 2,
                rad = Math.PI * 2 / 100,
                speed = 0.1


            // 圆环
            function blueCircle(n){
                ctx.save();
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 5;
                ctx.beginPath();
                ctx.arc(centerX, centerY, 100, -Math.PI / 2, -Math.PI / 2 + n * rad);
                ctx.stroke();
                ctx.closePath();// 结束路径
                ctx.restore();
            }

            // 数值
            function text(n){
                ctx.save(); // 保证接下来的样式只生效于这一段
                ctx.strokeStyle = '#fff';
                ctx.font = '40px Arial';
                ctx.strokeText(n.toFixed(0) + '%', centerX - 25, centerY + 10);
                // ctx.stroke();
                ctx.restore(); // 保证样式只生效于这一段
            }

            (function draw(){
                requestAnimationFrame(draw);
                ctx.clearRect(0, 0, canvas.width, canvas.height)
                blueCircle(speed);
                text(speed);
                if(speed >= 100){
                    return speed = 100;
                }
                speed += 0.1;
            })();


            // setInterval(() => {
            //     blueCircle(speed);
            //     speed += 0.2;
            // },10)
        }
        
    </script>
</body>
</html>